---
title: "Lab9 - Final Project Results"
project:
  output-dir: docs
  type: website
author: Jake Matullo and Jessica Magalit
format:
  html:
    self-contained: true
execute:
  echo: true
---

**Introduction**

The Tongass National Forest is the largest national forest in the United States, covering nearly seventeen million acres. That covers a majority of the Alaska Panhandle and is dispersed over hundreds of islands. These islands form part of what is referred to as the Inside Passage, which is the coastal seaway that runs along much of the the North Pacific coast and is often sheltered by many islands and fjords (Smith 2017). It has long been home to a variety of Native American peoples, most notably the Tlingit and the Haida peoples. Out of all these facts about the Tongass National Forest, arguably the most notable is that it also houses some of the most expansive tracts of old-growth temperate rainforest left on Earth. These are areas of immense primary productivity and critical habitat for grey wolves, black and brown bears, various seabirds, and as spawning grounds for many different species of salmon (Noss 2021). It is also a major carbon sink - one of the largest in the United States, alone holding up to 44% of the carbon stored in the nation’s national forests (Elfar 2024).

For over three-quarters of a century, the Tongass has been subjected to industrial logging for its rich stands of western hemlock, sitka spruce, and different cedar species. Many areas - such as Prince of Wales Island - have since been subjected to heavy clearcut logging. In response, the Roadless Rule was enacted in 2001, which forbade both new road construction as well as new logging operations from being conducted. However, this protection has come under fire during both Trump administrations. Early in March, Trump issued two executive orders allowing for more logging within the United States’ national forests, which itself came after his suspension of the Roadless Rule in Alaska (Soliman 2025). The difference in the ecology between the remaining old-growth forest and the new secondary forest created by logging cannot be understated. It takes hundreds of years for forests in the Tongass to reach the level of biodiversity and ecological complexity commonly exhibited by old-growth tracts (Carstensen 2015). This has long-lasting and far-reaching impacts on many different parts of the ecosystem. In this examination of raw data collected throughout the Tongass, we want to compare and contrast the differences in water quality and water discharge between two streams on the Prince of Wales Island; one in a watershed that was heavily logged in the 1970s, and one that is in a relatively preserved watershed. By doing so, we hope to illustrate how important protecting the Tongass National Forest is to the health of the rainforest ecosystem and further champion its designation as a land under the protection of the Roadless Rule.

**Materials**

The two chosen stream sites were found through the USGS National Water Information System: Mapper tool, which shows different water monitoring sites across the nation. They are USGS sites 15081497 at Staney Creek and 15086225 at Hatchery Creek. The Staney Creek site started conducting water discharge measurements in 1989 and water quality measurements in 1990, while the Hatchery Creek site began conducting water discharge measurements in 2016 and water quality measurements in 2017. All three data sources above have tables to work off of.For each, we will be examining daily water discharge rates and daily water temperature readings.
	
**Methods/Results**

```{r}
library(tidyverse)
library(tidyr)
library(readr)
library(dplyr)
library(janitor) #have to install package first
library(ggplot2)
library(dataRetrieval)
library(grwat)  #have to install package first
library(lubridate)
```

**Stream Flow Measurements** 

```{r}
staney_discharge <-  readNWISdv(siteNumber = "15081497",
                            parameterCd = "00060") %>%
  select(Date, Staney_Discharge = X_00060_00003)
```

```{r}
hatchery_discharge <- readNWISdv(siteNumber = "15086225",
                            parameterCd = "00060") %>%
  select(Date, Hatchery_Discharge = X_00060_00003)
```

```{r}
filtered_staneydischarge <- staney_discharge %>%
  filter(Date >= as.Date("2016-10-26") & Date <= as.Date("2025-04-23"))
```

```{r}
discharge <- full_join(filtered_staneydischarge, hatchery_discharge, by = "Date") %>%
  select(where(~ !all(is.na(.))))
```

```{r}
slice_head(discharge, n = 5)
```
**Figure 1.** Above are a few data readings for the streamflows for Staney Creek and Hatchery Creek, taken in cubic feet per second.

```{r}
ggplot(discharge, aes(x = Date)) +
  geom_line(aes(y = Hatchery_Discharge, color = "Hatchery Streamflow"), linewidth = 1) +
  geom_line(aes(y = Staney_Discharge, color = "Staney Streamflow"), linewidth = 1) +
  scale_color_manual(values = c("Hatchery Streamflow" = "royalblue", "Staney Streamflow" = "tomato")) +
  labs(title = "Hatchery Creek and Staney Creek Daily Streamflow",
       y = "Cubic Feet per Second",
       color = "Variable") +
  theme_minimal()
```

**Figure 2.** Above is streamflow data for the two creeks taken between 2016 and 2025. Notice how Staney Creek has consistently much higher flow than Hatchery Creek, barring only a few dates.

```{r}
ggplot(discharge, aes(x = Date)) +
  geom_line(aes(y = Hatchery_Discharge, color = "Hatchery Streamflow"), linewidth = 1) +
  geom_line(aes(y = Staney_Discharge, color = "Staney Streamflow"), linewidth = 1) +
  scale_color_manual(values = c("Hatchery Streamflow" = "royalblue", "Staney Streamflow" = "tomato")) +
  scale_x_date(limits = c(ymd(20220101), ymd(20230101))) +
  labs(title = "Hatchery Creek and Staney Creek Daily Streamflow",
       y = "Cubic Feet per Second",
       color = "Variable") +
  theme_minimal()  
```
**Figure 3.** Below is another chart of the same data, shortened to a one-year timespan for clarity.


**Stream Flow Flashiness/Baseflow**

```{r}
staney_baseflow = staney_discharge %>% 
  mutate(Staney_Baseflow = gr_baseflow(Staney_Discharge, method = 'jakeman')) %>%
  filter(Date >= as.Date("2016-10-26") & Date <= as.Date("2025-04-23"))
```

```{r}
slice_head(staney_baseflow, n = 5)
```
**Figure 4.** Above is a table showing the difference in overall flow and baseflow for Staney Creek.

```{r}
ggplot(staney_baseflow) +
  geom_area(aes(Date, Staney_Discharge, fill = "Discharge"), color = 'black') +
  geom_area(aes(Date, Staney_Baseflow, fill = "Baseflow"), color = 'black') +
  scale_fill_manual(values = c("Discharge" = "royalblue", "Baseflow" = "blue4")) +
  scale_x_date(limits = c(ymd(20220101), ymd(20230101))) +
  theme_minimal() +
  labs(title = "Staney Creek Flow Type",
       y = "Cubic Feet per Second",
       color = "Variable",
       fill = "Flow Type")
```
**Figure 5.** Above is a plot of the flow type for Staney Creek, showing only data from 2022 for clarity. It shows a data range of 0 to 5500 cubic feet per second in order to fit all of the data in.

```{r}
hatchery_baseflow <- hatchery_discharge %>% 
  mutate(Hatchery_Baseflow = gr_baseflow(Hatchery_Discharge, method = 'jakeman')) %>%
  filter(Date >= as.Date("2016-10-26") & Date <= as.Date("2025-04-23"))
```

```{r}
slice_head(hatchery_baseflow, n = 5)
```
**Figure 6.** Above is a table showing the difference in overall flow and baseflow for Hatchery Creek.

```{r}
ggplot(hatchery_baseflow) +
  geom_area(aes(Date, Hatchery_Discharge, fill = "Discharge"), color = 'black') +
  geom_area(aes(Date, Hatchery_Baseflow, fill = "Baseflow"), color = 'black') +
  scale_fill_manual(values = c("Discharge" = "royalblue", "Baseflow" = "blue4")) +
  scale_x_date(limits = c(ymd(20220101), ymd(20230101))) +
  theme_minimal() +
  labs(title = "Hatchery Creek Flow Type",
       y = "Cubic Feet per Second",
       color = "Variable",
       fill = "Flow Type")
```
**Figure 7.** Above is a plot of the flow type for Hatchery Creek, showing only data from 2022 for clarity. It shows a data range of 0 to 2500 cubic feet per second in order to make the graph easier to read.


**Stream Temperature**

```{r}
staney_temp <- readNWISdv(siteNumber = "15081497",    # Download data from USGS for site 06752260
                          parameterCd = "00010") %>%
  select(Date, Staney_Temperature = X_00010_00003)
```

```{r}
filtered_staneytemp <- staney_temp %>%
  filter(Date >= as.Date("2017-04-25") & Date <= as.Date("2025-04-23"))
```

```{r}
hatchery_temp <- readNWISdv(siteNumber = "15086225",
                            parameterCd = "00010") %>%
  select(Date, Hatchery_Temperature = X_00010_00003)
```

```{r}
filtered_hatcherytemp <- hatchery_temp %>%
  filter(Date >= as.Date("2017-04-25") & Date <= as.Date("2025-04-23"))
```

```{r}
stream_temps <- full_join(filtered_hatcherytemp, filtered_staneytemp, by = "Date") %>%
  arrange(Date)
```

```{r}
slice_head(stream_temps, n = 5)
```
**Figure 8.** Above are temperature readings for Hatchery Creek and Staney Creek.

```{r}
ggplot(stream_temps, aes(x = Date)) +
  geom_line(aes(y = Hatchery_Temperature, color = "Hatchery Water Temperature"), linewidth = 1) +
  geom_line(aes(y = Staney_Temperature, color = "Staney Water Temperature"), linewidth = 1) +
   scale_color_manual(values = c("Hatchery Water Temperature" = "royalblue", "Staney Water Temperature" = "tomato")) +
  labs(title = "Hatchery Creek and Staney Creek Water Temperature",
       y = "degrees Celsius",
       color = "Variable") +
  theme_minimal()
```
**Figure 9.** Above is a graph of temperature readings for Staney Creek and Hatchery Creek, taken between 2017 and 2025.


**Discussion**

Our results show clear differences between Staney Creek (the disturbed site) and Hatchery Creek (the undisturbed site), especially in terms of streamflow. As we can see, the difference between the baseflow and overall discharge for Hatchery Creek is much less than the difference in baseflow and overall discharge for Staney Creek. This is partially due to the spikes in discharge Staney Creek experiences, which is a result of its high flashiness. This likely reflects the long-term effects of deforestation in the area. When forests are cleared, there’s often less vegetation and living root networks to absorb rainwater, which can lead to more surface runoff and bigger spikes in streamflow during storms. This pattern suggests that the disturbed watershed responds more intensely to precipitation, which could increase erosion and make habitats less stable.

When it comes to water temperature, both creeks show similar seasonal trends, with temperatures rising in the summer and falling in the winter. However, Staney Creek sometimes has slightly cooler summer temperatures, which was surprising. Disturbed areas usually have warmer water because there’s less shade from trees. This difference might be explained by factors like stream depth, groundwater input, or forest regrowth providing some shade.

These findings suggest that even decades after logging, deforestation continues to affect how a watershed functions. Streamflow patterns especially seem to be shaped by past disturbances, which is important to understand when making decisions about land and forest management.

**Limitations**

One limitation of our analysis is that we only used daily data, which may miss short-term changes like sudden, hourslong spikes during heavy rain. We also didn’t include land cover or precipitation data, which could help explain some of the streamflow differences more clearly.

**Broader Implications**

This project shows how various data science tools can help us understand environmental change. By using public data and tidyverse packages in R, we were able to explore long-term trends in two different creeks. These kinds of analyses are incredibly valuable for conservation efforts and for understanding how ecosystems recover after human disturbances.

**Next Steps**

Future work could bring in data on rainfall, vegetation, or biodiversity to see how streamflow changes affect wildlife and forest recovery. Looking at things like sediment levels or fish populations could also give us a better idea of how these watersheds are doing overall.
